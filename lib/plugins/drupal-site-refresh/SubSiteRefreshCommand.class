<?php
/**
 * @file Defines the SubSiteRefreshCommand class.
 */

/**
 * Refreshes the configuration of a subsite.
 * 
 * @ingroup commands
 */
class SubSiteRefreshCommand extends GenericSiteCommand {
  
  /**
   * An array of steps to execute for this command.
   * @var type 
   */
  private $steps = array(
    array(
      'event' => EVENT_SUBSITE_REFRESH_CONFIGURATION,
      'optional' => TRUE,
    ),
  );
  
  public function verifyArguments() {
    if (!$this->requireSubSite()) {
      return FALSE;
    }
    return parent::verifyArguments();
  }
  
  public function executeCommand() {
    $this->executeAllSteps($this->steps, array(
      'type' => COMMAND_STEP_SUBSITE,
    ));
  }
  
}