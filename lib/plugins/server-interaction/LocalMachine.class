<?php
/**
 * @file Defines the LocalMachine class.
 */

/**
 * Represents the local machine.
 */
class LocalMachine extends GenericMachine {
  
  public function executeCommand($command, $args = array(), &$out = array(), &$exit = 0) {
    return execute_system_command($command, $args, $out, $exit);
  }
  
  public function initialize() {
    return TRUE;
  }
  
  public function writeFile($location, $contents) {
    return file_put_contents($location, $contents);
  }
  
  public function readFile($file) {
    return file_get_contents($file);
  }
  
  public function deleteFile($file) {
    return unlink($file);
  }
  
  public function downloadFile($file, $destination = NULL) {
    if (!is_readable($file)) {
      return FALSE;
    }
    if (!empty($destination)) {
      copy($file, $destination);
      return $destination;
    }
    return $file;
  }
  
  public function copyDirectory($dir, $destination) {
    if ($dir !== $destination) {
      return copy_all($dir, $destination);
    }
    return TRUE;
  }
  
}